1
00:00:00,420 --> 00:00:03,150
Hello and welcome back.

2
00:00:03,630 --> 00:00:09,690
In this lecture, we will see the different properties that we are going to use to configure our circuit

3
00:00:09,690 --> 00:00:11,970
breaker, or you can see our sweet.

4
00:00:12,910 --> 00:00:16,720
So the very first, an important one is sliding window size.

5
00:00:17,770 --> 00:00:23,650
So for this property, we need to provide the numeric value that how many calls we want to consider

6
00:00:23,800 --> 00:00:28,720
to make the decision that we want to make the suite from closer to open.

7
00:00:29,530 --> 00:00:36,160
So, for example, we want to consider last hundred calls or say 200 calls so that we need to define

8
00:00:36,160 --> 00:00:37,420
using this property.

9
00:00:37,750 --> 00:00:40,010
That is a sliding window size.

10
00:00:40,720 --> 00:00:41,980
Let's take an example.

11
00:00:42,370 --> 00:00:48,310
Say student service is calling the address service and the rate is a thousand calls per minute.

12
00:00:48,910 --> 00:00:54,750
Now, if we said the sliding window size is 100, then it will take the last hundred calls.

13
00:00:55,180 --> 00:00:58,100
So that's nine hundred one two one thousand.

14
00:00:58,870 --> 00:01:03,960
Now, in a few seconds, one hundred more calls made from student to address service.

15
00:01:03,960 --> 00:01:07,750
So total calls are eleven hundred and of a sliding window sizes.

16
00:01:08,410 --> 00:01:12,130
So now it will take the one thousand one to eleven hundred.

17
00:01:12,640 --> 00:01:18,530
So whatever we provide for this property that will be large number of calls will be considered.

18
00:01:18,970 --> 00:01:22,210
So that's the sliding window size that we need to define.

19
00:01:22,510 --> 00:01:26,890
So this is very important property and here we need to give numeric value.

20
00:01:27,960 --> 00:01:33,280
Now we know we have three states, four of us, which closed the open and half open.

21
00:01:33,540 --> 00:01:38,570
Now we need to provide that how much percentage of fault we want to tolerate.

22
00:01:38,910 --> 00:01:46,590
And if the failure rate is greater than the threshold, then make the sweet states open so that we need

23
00:01:46,590 --> 00:01:49,390
to define using the failure rate threshold.

24
00:01:49,650 --> 00:01:55,260
So this is the percentage we need to provide this property in terms of percentage.

25
00:01:56,630 --> 00:02:05,030
See federal threshold equal to 50 percent and I was sliding windows equal 200 and now out of last 100

26
00:02:05,030 --> 00:02:07,960
calls say, for example, 60 calls are feeling.

27
00:02:08,300 --> 00:02:14,720
So our failure rate is 60 percent, which is greater than 50 percent, whatever we said for this particular

28
00:02:14,870 --> 00:02:15,470
property.

29
00:02:15,770 --> 00:02:20,080
So now here, sweet state will become from closer to open.

30
00:02:20,750 --> 00:02:24,500
So this is the property we need to set in terms of percentage.

31
00:02:25,750 --> 00:02:32,920
Now the sweet state is open, but he cannot be in the open state for a long period of time, so we need

32
00:02:32,920 --> 00:02:37,420
to define that how many seconds we want to be in the open state.

33
00:02:38,020 --> 00:02:44,340
So for that, we have this property, we do this on in open state, and we can provide second set,

34
00:02:44,350 --> 00:02:46,090
for example, 30 seconds.

35
00:02:46,300 --> 00:02:49,840
We want to be in the open state this period of time.

36
00:02:49,840 --> 00:02:55,510
We are giving to address service so that it can resolve its issues, whatever it is having.

37
00:02:56,470 --> 00:03:02,390
For this period of time, the switch is open, so no calls from student to address service are allowed.

38
00:03:02,590 --> 00:03:07,930
So we are not bombarding on the address service from the student service and we are giving some time

39
00:03:07,930 --> 00:03:11,560
to address service to recover from the issue, whatever it is having.

40
00:03:12,690 --> 00:03:18,420
As I said, we cannot be in the open state for a long period of time and we need to go into a half open

41
00:03:18,420 --> 00:03:20,090
state from the open sea.

42
00:03:20,310 --> 00:03:24,980
We cannot directly go to closing the state from the open, from the open state.

43
00:03:24,990 --> 00:03:27,390
We can go to half open state only.

44
00:03:27,960 --> 00:03:34,880
And after this time expires, do we want to automatically join the sweet state from open to half open.

45
00:03:35,250 --> 00:03:42,090
If yes, then we need to set don't believe property that is automatic transition from open to half open

46
00:03:42,090 --> 00:03:42,540
state.

47
00:03:43,650 --> 00:03:50,490
So if this property is true, then once this time expires, the switch will be gone from open to half

48
00:03:50,490 --> 00:03:55,530
open and that will become automatically because we are setting this property as true.

49
00:03:56,610 --> 00:04:02,640
Now, in hobgoblins, did we know that we can allow some number of calls to go from student to address

50
00:04:02,640 --> 00:04:03,060
service?

51
00:04:04,220 --> 00:04:11,120
So, for example, we want to allow five calls to go from student to either service in half or one state.

52
00:04:11,540 --> 00:04:13,490
So this is the property we need to set.

53
00:04:13,760 --> 00:04:21,100
But we did a number of calls in one state, for example, right now in half open state.

54
00:04:21,260 --> 00:04:24,800
Again, it will take for the failure rate on this number of calls.

55
00:04:25,100 --> 00:04:31,010
And if the failure rate is still greater than the threshold, whatever we said, then again, the switch

56
00:04:31,010 --> 00:04:33,530
will be gone from half open to open.

57
00:04:34,160 --> 00:04:38,120
If the failure rate is less than the threshold, what would be said then?

58
00:04:38,120 --> 00:04:39,920
The switch will become from Harpe.

59
00:04:39,920 --> 00:04:40,460
Open to.

60
00:04:40,610 --> 00:04:41,240
Closer to.

61
00:04:42,170 --> 00:04:46,920
So these are the important properties, let's recap all the things very quickly.

62
00:04:47,270 --> 00:04:52,250
The first is sliding window size, how many last calls we want to consider.

63
00:04:52,400 --> 00:04:58,940
And based on that, we want to take that decision now how much percentage of fault we want to tolerate.

64
00:04:59,390 --> 00:05:04,760
If the failure rate based on this sliding window size is greater than the threshold, then make the

65
00:05:04,760 --> 00:05:05,910
switch as open.

66
00:05:06,300 --> 00:05:13,400
Now, how much do this and we want to wait in the open state, for example, 30 second, up to 30 second.

67
00:05:13,700 --> 00:05:17,080
Do we want to automatically switch to half open just then?

68
00:05:17,090 --> 00:05:19,060
Here is the property now.

69
00:05:19,340 --> 00:05:25,790
How many calls we want to allow in open state, for example, right now, based on these five calls,

70
00:05:25,970 --> 00:05:27,920
again, it will take the failure rate.

71
00:05:27,920 --> 00:05:32,780
If the failure rate is still greater than the threshold, that means still there is some issue in that

72
00:05:32,780 --> 00:05:33,590
address service.

73
00:05:33,770 --> 00:05:35,610
Go to the open state for the switch.

74
00:05:36,260 --> 00:05:42,430
Now, if the failure rate is less than the threshold, that means extra service has resolved any issue.

75
00:05:42,770 --> 00:05:44,570
So make the switch as closely.

76
00:05:45,590 --> 00:05:50,570
So these are the important properties, sliding window size, failure rate threshold.

77
00:05:50,900 --> 00:05:58,160
They do this on in open state, automatic transmission from open to half of one state and the number

78
00:05:58,160 --> 00:05:59,920
of calls in half or one state.

79
00:06:00,740 --> 00:06:06,380
So these are the properties we need to put in our student service because student service is calling

80
00:06:06,380 --> 00:06:07,610
the A service.

81
00:06:08,940 --> 00:06:14,580
These properties are very important to configure to a circuit breaker, and based on these properties,

82
00:06:14,580 --> 00:06:16,320
only of a suite will behave.

83
00:06:16,680 --> 00:06:22,920
So make sure you are getting all the things that what are the properties we need to set for our configuration

84
00:06:22,920 --> 00:06:23,280
part?

85
00:06:24,480 --> 00:06:30,630
So these are the different properties that we are going to use for our circuit breaker, so that's all

86
00:06:30,630 --> 00:06:31,240
for now.

87
00:06:31,590 --> 00:06:33,090
We'll see you in the next lecture.

88
00:06:33,570 --> 00:06:34,530
Thank you very much.
