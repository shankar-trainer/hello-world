1
00:00:00,330 --> 00:00:07,940
Hello and welcome back for the upcoming lectures, we are going to create Brief Elter and Poolesville

2
00:00:08,370 --> 00:00:10,530
in our EPA Gateway application.

3
00:00:11,370 --> 00:00:18,210
Using these filters, you can have some cost cutting concerns in the EPA gateway like you want to authenticate

4
00:00:18,210 --> 00:00:18,930
the request.

5
00:00:18,960 --> 00:00:23,760
You want to log the request or do you want to log the response or response code?

6
00:00:23,940 --> 00:00:30,390
Whatever you want to do, you can do using the pre and post filter and have your crosscutting concerns

7
00:00:30,390 --> 00:00:32,550
in the API Gateway application.

8
00:00:33,440 --> 00:00:36,020
In this lecture, we will create the prefilled.

9
00:00:36,530 --> 00:00:43,020
So this will get executed before the EPA gets around the request to appropriate microcircuits.

10
00:00:43,250 --> 00:00:48,280
So here we can do authentication or we can log the requests, whatever we want to do.

11
00:00:48,650 --> 00:00:49,610
So let's go for it.

12
00:00:50,000 --> 00:00:51,350
Let's create a new class.

13
00:00:52,830 --> 00:00:55,380
And the name is Custom Filter.

14
00:01:00,070 --> 00:01:07,780
Let's mark this closet at configuration and let's have one longer for this.

15
00:01:09,610 --> 00:01:10,150
Plus.

16
00:01:14,040 --> 00:01:15,420
Logger factory.

17
00:01:17,890 --> 00:01:22,150
Get longer and you diskless over here.

18
00:01:27,040 --> 00:01:28,570
Let me maximize this.

19
00:01:32,160 --> 00:01:35,350
Let's import the logger now here.

20
00:01:35,370 --> 00:01:43,420
We need to implement global filter provided by EPA Gateway so implements global filter.

21
00:01:44,610 --> 00:01:46,430
So this is coming from the EPA.

22
00:01:46,890 --> 00:01:48,880
You see here, this is the package.

23
00:01:49,350 --> 00:01:51,300
Now we need to write the metal.

24
00:01:53,420 --> 00:01:54,680
Let me read you this comment.

25
00:01:56,090 --> 00:02:02,360
Now, this pre filter will be applicable to all the requests coming to our all micro services, Nowzad,

26
00:02:02,360 --> 00:02:04,580
for example, for all our requests.

27
00:02:04,730 --> 00:02:10,760
That is one header coming in, the request, for example, authorization and that we want to log.

28
00:02:11,030 --> 00:02:11,850
Let's go for it.

29
00:02:12,710 --> 00:02:21,830
So what we will do here is that using this exchange object, let's call the mattress, get requests.

30
00:02:22,550 --> 00:02:24,590
So this will return server.

31
00:02:28,350 --> 00:02:33,120
Its GDP request and make sure you are selecting this reactive.

32
00:02:34,480 --> 00:02:35,080
So.

33
00:02:36,260 --> 00:02:37,580
Linguistical to.

34
00:02:39,080 --> 00:02:44,480
So now we have the request, right, so let's lock the authorities in attitude coming in the header.

35
00:02:45,500 --> 00:02:46,880
So Lowgar Todd.

36
00:02:50,720 --> 00:03:05,510
Info say authorisation equal to and here request to get headers, not get first and pass the header.

37
00:03:06,140 --> 00:03:10,760
So say for example, we are passing the header in the request.

38
00:03:11,540 --> 00:03:15,860
So now here we are just logging the authorities an attribute coming in the request.

39
00:03:15,860 --> 00:03:18,600
But you can actually perform the authentication if you want.

40
00:03:19,100 --> 00:03:23,840
Now, instead of returning the null, what we need to do is that we need to put out this request to

41
00:03:23,840 --> 00:03:28,570
appropriate microsatellites because that's the actual means of epigraphy, right?

42
00:03:28,580 --> 00:03:30,240
So we cannot return null.

43
00:03:30,470 --> 00:03:38,030
So instead of that, we need to return gene dot filter and past object of exchange.

44
00:03:38,540 --> 00:03:41,630
So this will pass the request to appropriate microcircuits.

45
00:03:41,780 --> 00:03:46,370
And before that, we can do whatever we want to have authentication or whatever.

46
00:03:46,520 --> 00:03:51,980
So this is our printer and then we are routing the request to appropriate microcircuits.

47
00:03:52,920 --> 00:03:57,900
Now, see, for example, here you are getting the authorization and that is failing, then you can

48
00:03:58,020 --> 00:04:04,530
straighten it out better and pass that along to the consumer, you will not allow the request to microcircuits.

49
00:04:04,800 --> 00:04:10,320
If authentication is successful, you can rouda the request to the appropriate medical service otherwise

50
00:04:10,320 --> 00:04:13,590
through the error to consumers that you are not authenticated.

51
00:04:13,830 --> 00:04:17,850
Now, this is our filter and in the next lecture we will test it out.

52
00:04:18,270 --> 00:04:20,130
So that's all for now.

53
00:04:20,550 --> 00:04:23,070
Will proceed further in the next lecture.

54
00:04:23,460 --> 00:04:24,330
Thank you very much.
