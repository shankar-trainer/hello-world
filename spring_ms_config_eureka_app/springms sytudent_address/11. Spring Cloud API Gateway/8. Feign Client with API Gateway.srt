1
00:00:00,630 --> 00:00:03,240
Hello and welcome back.

2
00:00:03,690 --> 00:00:09,720
So now we know that whatever requests are coming from the consumer will first come to EPA Gateway,

3
00:00:10,080 --> 00:00:15,180
but how about the internal calls that are going between our Microsoft offices?

4
00:00:15,900 --> 00:00:21,780
So, you know, example, student service is calling the address service and here student service is

5
00:00:21,780 --> 00:00:27,180
directly calling the address service, using this name with the help of Eureka server.

6
00:00:27,330 --> 00:00:28,350
We have already seen that.

7
00:00:28,350 --> 00:00:28,650
Right.

8
00:00:29,040 --> 00:00:31,470
But what if we want to make this call?

9
00:00:31,710 --> 00:00:34,020
Also went through the API gateway.

10
00:00:34,950 --> 00:00:40,980
So that means student service will call the EPA, Gateway and EPA Gateway will pass that request to

11
00:00:40,980 --> 00:00:41,790
the service.

12
00:00:42,030 --> 00:00:49,410
And here at the service will give the response to EPA, Gateway and EPA to attend, will pass that response

13
00:00:49,410 --> 00:00:51,140
back to the student service.

14
00:00:51,870 --> 00:00:57,480
So to add to that, we need to do slight modifications involving client, and that's what we are going

15
00:00:57,480 --> 00:00:59,010
to do in this lecture.

16
00:00:59,340 --> 00:01:00,900
So let's jump to Estes.

17
00:01:02,080 --> 00:01:04,180
So this is our address fenland, right?

18
00:01:04,210 --> 00:01:08,730
We have already seen so here we have provided the name of the service as a service.

19
00:01:08,950 --> 00:01:10,650
So now we should not be doing this.

20
00:01:11,170 --> 00:01:14,440
And let's put the name of the service here and here.

21
00:01:14,440 --> 00:01:17,820
We need to provide the name for our API application.

22
00:01:18,160 --> 00:01:19,810
So that is Gateway.

23
00:01:21,800 --> 00:01:27,350
Now, if we do this kind of thing, then what will happen, we can be able to just call the address

24
00:01:27,350 --> 00:01:34,250
micro service using the EPA because you cannot create another front line with the value equal to EPA

25
00:01:34,250 --> 00:01:34,630
gateway.

26
00:01:34,970 --> 00:01:37,930
So now we should not be using the pot like this.

27
00:01:38,360 --> 00:01:43,250
So let's remove from here and invite every request we should be doing like this.

28
00:01:45,490 --> 00:01:51,610
So now this address for England is no longer specific to address microcircuits, this being land we

29
00:01:51,610 --> 00:01:58,780
can use to call our any of micro services, and that is to using the EPA gateway so we can rename this

30
00:01:58,780 --> 00:01:59,740
for England as well.

31
00:02:00,070 --> 00:02:01,920
But let's leave it like this only.

32
00:02:02,200 --> 00:02:07,570
But you need to understand one thing that now this is no longer specific to address Microsoft.

33
00:02:07,570 --> 00:02:14,050
With this being blind, you can use to call any of your micro offices and that call will go through

34
00:02:14,050 --> 00:02:19,870
the API gateway for every you get call or any other call you are making to any of your micro services.

35
00:02:20,140 --> 00:02:24,350
You need to first provide the name of the service and then you are mapping like this.

36
00:02:24,880 --> 00:02:26,190
So now we are all set.

37
00:02:26,620 --> 00:02:31,330
So we will start with the Eureka server, then our API gateway.

38
00:02:32,330 --> 00:02:39,410
Student surveys and address surveys now wait for few seconds till then, let's jump to Bowsman.

39
00:02:41,010 --> 00:02:42,600
Let's hit this again.

40
00:02:44,910 --> 00:02:46,690
No problem, wait for a few more seconds.

41
00:02:46,710 --> 00:02:49,610
We are getting word that sometimes happens with the.

42
00:02:50,400 --> 00:02:51,510
No need to worry about it.

43
00:02:53,170 --> 00:02:54,060
Let's try again.

44
00:02:57,020 --> 00:03:02,700
So now we got a response, so this is obvious, but now this call from the student service to address

45
00:03:02,700 --> 00:03:08,030
service to get this address dated is going through the EPA gate with this.

46
00:03:08,030 --> 00:03:10,530
We are not calling directly to address service.

47
00:03:10,760 --> 00:03:16,130
Instead of that, what we are doing from our student service, we are calling the EPA gateway and that

48
00:03:16,130 --> 00:03:22,610
to using the Utica server, because you see or hear we have given the service name for our gateway application,

49
00:03:22,610 --> 00:03:26,860
and that is EPA gate, which you can verify in our Utica survey residency.

50
00:03:26,870 --> 00:03:30,500
This is the name of our service for the EPA Gateway application.

51
00:03:31,520 --> 00:03:38,060
So by this way, your internal calls between micro services can also pass through the EPA gateway and

52
00:03:38,060 --> 00:03:43,010
your crosscutting concerns, whatever you have in the EPA gateway will get executed.

53
00:03:44,000 --> 00:03:46,380
You can verify the EPA gateway logs as well.

54
00:03:46,490 --> 00:03:49,490
So let's jump to logs of EPA, get replication.

55
00:03:50,180 --> 00:03:55,370
See here we have to pre filter for one outrageous and is fine ABC.

56
00:03:55,760 --> 00:04:00,260
This is for the filter of request going from Sudan to address service.

57
00:04:00,260 --> 00:04:04,650
And for that, obviously, we don't have any authorization requested.

58
00:04:05,150 --> 00:04:06,920
And you see these two possibilities.

59
00:04:07,340 --> 00:04:10,730
One, for our student request that we are getting from the postman.

60
00:04:11,090 --> 00:04:16,760
And this is second, when to address service, giving the response back to EPA Gateway.

61
00:04:17,800 --> 00:04:24,370
And that's the reason that our filters and filters will get executed two times in this particular scenario,

62
00:04:24,700 --> 00:04:31,330
because now the call from student service to address surveys is going through the EPA gateway and hands

63
00:04:31,330 --> 00:04:36,340
of a crosscutting concerns whatever we have in the EPA gate, we will get executed.

64
00:04:37,770 --> 00:04:41,740
So this is how you can use your faint lined with the EPA gateway.

65
00:04:42,180 --> 00:04:46,410
So that's all for now, will proceed further in the next lecture.

66
00:04:46,950 --> 00:04:47,880
Thank you very much.
